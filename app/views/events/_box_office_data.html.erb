<div id='sale_tickets' data-controller='boxoffice update'
    data-boxoffice-url-value="/api/v1/events/<%= @event_id %>/sale_tickets"
    data-update-url-value="/api/v1/events/<%= @event_id %>/sale_tickets"
    data-boxoffice-offset-value=0 data-boxoffice-limit-value=25
    data-action='update:created->boxoffice#query'> 
  <template data-boxoffice-target='template'>
    <form class='row' data-boxoffice-target='form' data-action='change->boxoffice#updateForm' name='boxoffice_display'>
      <div class='col-md-auto'><input class='form-check-input' type='checkbox' name='boxoffice_selector' data-nxt-id data-update-target='update'></div>
      <div class='col-md-3'><span data-nxt-first_name></span> <span data-nxt-last_name></span></div>
      <div class='col-md-3'><span name="boxoffice_email" data-nxt-email disabled></div>
      <div class='col-md-1'><span name="seat_section" data-nxt-seat_section disabled></div>
      <div class='col-md-1'><span name="tickets" data-nxt-tickets disabled></div>
      <div class='col-md-2'>
        <div class="dropdown">
          <button class='btn btn-secondary dropdown-toggle' type='button'
              data-bs-toggle='dropdown' aria-expanded='false'>
            Actions
          </button>
          <ul class='dropdown-menu'>
            <li><button class='dropdown-item dropdown-email-item' type='button' data-bs-toggle='modal' data-bs-target='#email-modal' data-nxt-email>Send Email</button></li>
            <li><hr class='dropdown-divider'></li>
            <li><button class='text-danger dropdown-item dropdown-delete-item' type='button' data-nxt-id data-action='destroy#destroyByValue'>Delete</button></li>
          </ul>
        </div>
    </form>
  </template>
  <div class="containers border-bottom border-dark">
    <div class='row align-items-end mb-4  border-dark'>
    <div class='col-md-auto'><input class='form-check-input' type='checkbox' name='selectAll' onClick="toggle(this)"></div>
      <div class='col-md-3'><span data-bs-toggle='tooltip' data-bs-placement='top'>Name</span></div>
      <div class='col-md-3'>Email</div>
      <div class='col-md-1'>Seat Level</div>
      <div class='col-md-1'>Number of Tickets</div>
      <div class='col-md-2'></div>
    </div>
  </div>
  <div class="containers border-bottom border-dark" data-boxoffice-target='dom'>
    <div class='row align-items-end mb-4 border-dark'>
    </div>
  </div>
</div>

<script>
function toggle(source) {
  checkboxes = document.getElementsByName('boxoffice_selector');
  for(var i=0, n=checkboxes.length;i<n;i++) {
    checkboxes[i].checked = source.checked;
  }
}
</script>