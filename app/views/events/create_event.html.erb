<head>
<%= csrf_meta_tags %>
</head>

<style>
  #form-div, #referral{
    
    text-align: center;
  }

  #file-button{
    margin-left: 20%;
  }

    #referral-button {
        -webkit-appearance: button;
        -moz-appearance: button;
        appearance: button;
        padding: 20px;
        font-size: 20px;
        text-decoration: none;
        color: white;
        background-color: black;
    }

    .level-contents-toggle{
      text-align: center;
    }

    #referral-contents-toggle{
      display: none; 
      text-align: center; 
      padding-top: 10px; 
      padding-bottom: 20px; 
      background-color: #e6ccff; 
      border-radius: 10px;
      padding: 10px;
    }

    .level-box{
      margin-right: 5px;
    }

    .capacity-box{
      margin-right: 5px;
    }

    .ticket {
            text-align: left;
            border: 3px solid black;
            margin: 50px;
    }
  
    #img {
            position: relative;
            text-align: center;
    }

</style>

<script>
  
  //JS toggles RSVP Form visibility
  function toggle_referral() {
  var button_name = document.getElementById("referral-prepper");
  var x = document.getElementById("referral-contents-toggle");
  if (x.style.display == "none") {
    button_name.innerHTML = "Close Referral Reward Template";
    x.style.display = "block";
  } else {
    button_name.innerHTML = "Open Referral Reward Template";
    button_name.style.background = "lightgreen";
    x.style.display = "none";
  }
}

</script>

<br>

<h1 class="display-6" style="text-align: center; color: gray;"> Guest List </h1>
<br>
<table class="table table-sm col-md-12">
  
  <thead class="thead-light">
    <tr>
      <% @guest_params.each do |param| %>
        <% column_title = param.dup.gsub('_', ' ')%>
        <% column_title.capitalize! %>
        <th><%= column_title %></th>
      <% end %>
      
      <th>Action</th>
      <th>Ticket Booking Status</th>
      <th>Total Booked</th>
    </tr>
  </thead>
  <tbody>
        <tr>
        <% @guest_params.each do |param| %>
          <td>
          </td>
        <% end %>
        </tr>
  </tbody>
</table>
<br><br>
<div id="form-div">
<h2 style="color: gray;">Import Latest Box Office Data</h2>
<%= form_tag import_new_spreadsheet_path, multipart: true  do %> 
  <div style="text-align: center;">
    <br>
    <%= label_tag(:file, "Accepted types: .xlsx") %><br>
    <%= file_field_tag(:file, :id => "file-button") %><br><br>
    <%= submit_tag("Import Latest Box Office Data", :class => "btn btn-secondary btn-rounded") %>
  </div>
<% end %>
</div>
<br><br><br><br>

<h1 class="display-6" style="text-align: center; color: gray;"> Referral Rewards </h1>

<br><br>
  <div id="referral">
  <button type="button" id="referral-prepper" class="btn btn-success btn-rounded" onclick="toggle_referral()">Create Referral Reward Template</button>
  <br><br>
  <div id="referral-contents-toggle">
  <h4>Referral Reward Email Template</h4>
  <div class="ticket" style="background: white;"> 
        <p>Hi Guest,</p>
        <p>Please send your friends an invitation to FashionNXT by inserting their emails in the box below. You will receive XYZ Reward if any of your friends purchase tickets to FashionNXT.</p>
        <p id="email"><b>Email:  <%= label_tag(:email, "")%>
        <%= text_field_tag(:email, nil, :required => 'true', placeholder: "email")%><br><br></p>
        <p>Choose the date you are going and want your friends to join:</p>
        <p id="event-date"><b>Event date:  <%= label_tag(:event_date, "") %>
        <%= text_field_tag(:event_date, nil, :required => 'true', placeholder: "MM/DD/YYYY")%><br><br></p>
  </div>
    <%= form_tag '/events/create_event', :id => "referral-form", :remote => true do %>
    <%= label_tag(:reward, "Insert Reward:") %>
    <%= text_field_tag(:reward, nil, :required => 'true', placeholder: "XYZ Reward")%><br><br>
    <%= submit_tag "Save Changes", :id => "thisone", :class => "btn btn-success btn-rounded", :onclick => "refresh()" %>
    <% end %>

<br><br>

<%= button_to "Back to Setup", root_path, :type => "button", class: "btn btn-secondary btn-rounded", :method => "get"%>

<br><br>

    
    
